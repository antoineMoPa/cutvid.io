<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/app/style.css?v=0.0.1">
  </head>
  <body>
    <div id="main_app">
    </div>

    <script>
     /* redirect /app to /app/ */
     if(/\/app$/.test(window.location.href)){
       window.location.href += "/";
     }
    </script>

    <script src="/app/libs/vue.js"></script>
    <script src="/app/libs/utils.js?v=0.0.1"></script>
    <script src="/app/libs/gif.js"></script>

    <script type="text/javascript">
     let available_themes = ["epicSunset", "retrowave"];
     var theme_name = new URL(window.location.href).searchParams.get("theme") || "default";
     if(!available_themes.find((el) => {return el == theme_name})){
       theme_name = "epicSunset";
     }
    </script>

    <script type="text/javascript" src="/app/shader_program.js?v=0.0.1"></script>
    <script type="text/javascript" src="/app/shader_player_webgl.js?v=0.0.1"></script>
    <script type="text/javascript" src="/app/components/sequence_effects.js?v=0.0.1"></script>
    <script type="text/javascript" src="/app/components/text_box.js?v=0.0.1"></script>
    <script type="text/javascript" src="/app/components/panel_selector.js?v=0.0.1"></script>
    <script type="text/javascript" src="/app/components/effects_selector.js?v=0.0.1"></script>
    <script type="text/javascript" src="/app/components/buy_video.js?v=0.0.1"></script>
    <script type="text/javascript" src="/app/components/buy_video_lq.js?v=0.0.1"></script>
    <!--
         <script type="text/javascript" src="/app/components/scene_template_selector.js?v=0.0.1"></script>
    -->
    <script type="text/javascript" src="/app/components/sequencer.js?v=0.0.1"></script>
    <script type="text/javascript" src="/app/libs/jszip.min.js"></script>
    <script type="text/javascript" src="/app/components/player.js?v=0.0.1"></script>
    <script type="text/javascript" src="/app/components/ui.js?v=0.0.1"></script>
    <script type="text/javascript" src="/app/app.js?v=0.0.1"></script>
    <script type="text/javascript">
     fetch("/stats/lattefx_app_page_view/");

     function beforeUnload(){
       window.player.player.gl.getExtension('WEBGL_lose_context').loseContext();
       fetch("/stats/lattefx_app_page_leave/");
     };

     window.onpagehide = beforeUnload;
    </script>
  </body>
</html>
