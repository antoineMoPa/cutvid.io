<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/app/style.css?v=0.0.3">
  </head>
  <body>
    <div id="main_app">
    </div>
    <div class="form-notice hidden">
      <h3 style="margin-bottom:-20px;">Message from Lattefx developer: Sorry to interrupt!</h3>
      <p>I'm the developer of Lattefx.</p>
      <p>
        Please help me jumpstart Lattefx by filling a
        <br>
        <a href="https://docs.google.com/forms/d/e/1FAIpQLScb_mbpafTrCLf73RPhNlkVz3RUHK_k-4KUKa69RKKn8f4evQ/viewform?usp=sf_link"
           target="_blank">
          2 minutes Form
        </a>
        <br>
        I would appreciate a ton!
      </p>
      <p>
        I'm a student, but I pledge to donate 2$ to greenpeace for the first 50 responders who give their email (I'll send proof).
      </p>
      <a class="lfx-button close-button"
              href="https://docs.google.com/forms/d/e/1FAIpQLScb_mbpafTrCLf73RPhNlkVz3RUHK_k-4KUKa69RKKn8f4evQ/viewform?usp=sf_link"
              target="_blank"
              onclick="closeFeorm(true)">
        Yes, take the form and give $2 to the planet for free
      </a>
      <button class="lfx-button close-button"
              onclick="closeForm(false)">
        Close this
      </button>
      <p style="font-size:10px;margin-top:-10px;">If you already responded, feel free to close! We will not show this again on this browser.</p>
    </div>
    <script>
     /* redirect /app to /app/ */
     if(/\/app$/.test(window.location.href)){
       window.location.href += "/";
     }
     function closeForm(ret){
       document.querySelectorAll('.form-notice')[0].classList.add('hidden');
       window.localStorage.close_form_notice_november_2019 = "true";
       return ret;
     }
     if(window.localStorage.close_form_notice_november_2019 == "true"){
       closeForm();
     }
    </script>

    <script src="/app/libs/vue.js"></script>
    <script src="/app/libs/utils.js?v=0.0.3"></script>
    <script src="/app/libs/gif.js"></script>

    <script type="text/javascript">
     let available_themes = ["epicSunset", "retrowave"];
     var theme_name = new URL(window.location.href).searchParams.get("theme") || "default";
     if(!available_themes.find((el) => {return el == theme_name})){
       theme_name = "epicSunset";
     }
    </script>

    <script type="text/javascript" src="/app/shader_program.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/shader_player_webgl.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/components/sequence_effects.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/components/text_box.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/components/panel_selector.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/components/effects_selector.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/components/buy_video.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/components/buy_video_lq.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/components/scene_template_selector.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/components/sequencer.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/libs/jszip.min.js"></script>
    <script type="text/javascript" src="/app/components/player.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/components/ui.js?v=0.0.3"></script>
    <script type="text/javascript" src="/app/app.js?v=0.0.3"></script>
    <script type="text/javascript">
     fetch("/stats/lattefx_app_page_view/");

     function beforeUnload(){
       window.player.player.gl.getExtension('WEBGL_lose_context').loseContext();
       fetch("/stats/lattefx_app_page_leave/");
     };

     window.onpagehide = beforeUnload;
    </script>
  </body>
</html>
